@model SessionTickets
@{
    ViewData["Title"] = "TicketCart";
}

<h1>Choosed tickets:</h1>
@if (Model.SelectedTickets.Count == 0)
{
    <p>You should choose at least one seat.</p>
    <a href='@Url.Action("Index", "SessionTickets", new { IdSession = Model.Session.Id })'>Move back</a>
}
else
{
<form id="form" method="post" asp-action="ChooseFormAction">
    <input type="hidden" name="IdSession" value="@Model.Session.Id" />
    @{
        for (int i = 0; i < Model.SelectedTickets.Count; i++)
        {
            <div class="ticket">
                <p><b>Title:</b> @Model.Session.IdFilmNavigation.Title</p>
                <p><b>Date:</b> @Model.Session.Date.ToShortDateString()</p>
                <p><b>Time:</b> @Model.Session.Time.ToString(@"hh\:mm")</p>
                <p><b>Hall:</b> @Model.Session.IdHallNavigation.Title</p>
                <p><b>Seat:</b> @Model.SelectedTickets[i].IdSeat</p>
                <p><b>Price:</b> @Model.Session.Price</p>
                <input type="hidden" name="SelectedSeats[]" value="@Model.SelectedTickets[i].IdSeat" />
                <input type="button" id="@i" name="deleteButton" value="Delete" onclick="DeleteTicket(this.id)" />
            </div>
        }
    }
    <hr />
    <label><b>Fill the form:</b></label>
    <br />
    <label>Name:</label>
    <input type="text" required name="Name" placeholder="Ivan" />
    <br />
    <label>Phone:</label>
    <input type="tel" required name="Phone" placeholder="+380966665544" />
    <br />
    <label>Email:</label>
    <input type="email" required name="Email" placeholder="aaa@gmail.com" />

    <br />

    <input type="submit" class="button" name="BuyTickets" value="Buy tickets" />
    <input type="submit" class="button" name="BookTickets" value="Book tickets" />
</form>
}

@section Scripts{ 
    <script src="~/js/TicketCart.js"></script>
}